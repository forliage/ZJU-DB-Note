\section{Transaction定义}

\subsection{概念}

对于数据库管理系统，必须处理两个主要问题：
\begin{itemize}
    \item 多个用户或多程序的并发执行
    \item 各种故障，如硬件故障和系统崩溃
\end{itemize}

数据库并发执行时，如何保持其正确性、一致性和完整性？

事务是程序执行的一个单元，它会访问并可能更新各自数据项：
\begin{itemize}
    \item 通常一个事务包含多条SQL语句，以提交或回滚语句结束
    \item 事务必须看到一个一致的数据库。
\end{itemize}

在事务执行期间，数据库可能处于不一致状态，但当事务提交时，数据库必须保持一致。

\noindent\textbf{ACID属性}

事务是程序执行的一个单元，它会访问并可能更新各自数据项。为了保持数据的完整性，数据库系统必须确保：
\begin{itemize}
    \item Atomicity:原子性。事务的所有操作要么都正确地反映在数据库中，要么都不反映。
    \item Consistency:一致性。事物的隔离执行能保持数据库的一致性。
    \item Isolation:隔离性。虽然多个事务可以并发执行，但每个事务必须不知道其它并发执行的事务。事物的中间结果必须对其它并发执行的事务隐藏。也就是说，对于每对事务$T_i$和$T_j$，对$T_i$而言，要么$T_j$在$T_i$开始之前就已完成执行，要么$T_j$在$T_i$完成之后才开始执行。
    \item Durability:持久性。事务成功完成后，它对数据库所做的更改将持久保存，即使发生系统故障也是如此。
\end{itemize}